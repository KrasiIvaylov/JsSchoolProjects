import { suite, test, setup, teardown } from './moca'

async function hello() {
  return new Promise(function (complete, fail) {
    setTimeout(function () {
      console.log("     hello");
      complete();
    }, 1);
  });
}

async function world() {
  return new Promise(function (complete, fail) {
    setTimeout(function () {
      console.log("     world");  
      complete();
    }, 1);
  });
}

suite('Hello', () => {
  test("hello", async () => {
    await hello();
  });
  test("world", async () => {
    await hello();
    await world();
  });
})

suite('Hello1', () => {
  setup(async () => console.log('setup ...'))
  teardown(async () => console.log('teardown ...'))
  test("hello1", async () => {
    console.log('a')
  });
  test("world1", async () => {
    console.log('b')
    throw new Error(',,,,,,,,,,,,,,')
  });
})

suite('Hello2', () => {
  test("hello2", async () => {
    console.log('c')
    throw new Error('!!!!!!!!!!!!!!')
  });
  test("world2", async () => {
    console.log('d')
  });
})